@startuml

' Customization Settings
skinparam dpi 100
skinparam classattributeiconsize 0

' Begin UML Here

' NOTE: All activities should inherit from an Android Activity.
' This includes onCreate() should inherit from an Android Activity

class ProfileController
{    
     -dialog: string

    +getUsername(player: Player, playercontroller: PlayerController): string
    +openDialog()
    +displayPlayerRank(database: DataBase, databasecontroller: DataBaseController, currentplayer: Player)
}

class ProfileActivity
{
    +onCreate()
}

class LeaderboardActivity
{

    +onCreate()
    
}

class LeaderboardController
{
    
    -myScore: Integer
    -sortBy: String
    -currentPlayer: Player
    -currentRank: ArrayList<Player>

    +LeaderboardController(currentPlayer: Player)
    +getSortBy(): String
    +sortDataBy(sortBy: String, currentRank: ArrayList<Player>): ArrayList<Player>
    
}



class SignupActivity
{

    +onCreate()
    +usernameInvalid()
    
}

class SignupController
{
    -newPlayer: Player
    -playerName: String

    +addNewPlayer(newPlayer: Player)
    +checkUserNameValid(playerName: String, databaseController: DatabaseController): Boolean
    +getUsername(): String
    +firstRunCheck(fileSystemController: FileSystemController): Boolean
    +sendUserToMain(newPlayer: Player)
    +sendToRestore()
    
}

class RestoreSession
{
    -oldUsername: String
    -oldPlayer: Player
    
    +getUserQr(cameraController: CameraController): String
    +checkIfUserExists(oldUsername: String): Boolean
    +loadPlayer(oldUsername: String, databaseController: DatabaseController): Player
    +sendUserToMain(oldPlayer: Player)
}

class Player
{    
     -username: String
     -qrInventory: ArrayList<String>
     -contact: String
     -totalQR: Integer
     -score: Integer

    +setUsername(name: String)
    +getUsername(): String
    +setContact(contact: String)
    +getContact(): String
    +setTotalQR(totalQR: Integer)
    +getTotalQR(): Integer
    +setScore(score: Integer)
    +getScore(): Integer
    +setQrInventory(QrInventory: ArrayList<String>)
    +getQrInventory(): ArrayList<String>
    +player (username: String, contact: String, score: Integer, totalQR: Integer, QrInventory: ArrayList<String>) 
}

class PlayerController
{
    -player: Player

    +getPlayer(Username: String): Player
    +savePlayerData(databasecontroller: DataBaseController)
    +updateUsername(username: String)
    +updateQrInventory(QRcode: arraylist)
    +updateTotalQR(totalQR: Integer)
    +updateScore(score: Integer)
    +playerController(player: Player)  
}

Class OtherPlayerActivity
{
    +onCreate()
}

OtherPlayerController
{
  -player: Player
  -score: Int
  -phone: String
  -scantotal: Int

  +updateComment(playerController: PlayerController, comment: String, databaseController: DatabaseController, qrcodeController: QrcodeController, qrcode: QrCode)
  +otherPlayerController(player: Player)

}

class Location
{
     -locationHash: ArrayList<String>

    +getLocationHash(): ArrayList<String>
    +setLocationHash(locationHash: ArrayList<String>)
}

class QrCode
{
     -geoLocation: ArrayList<Location>
     -qrCodeHash: String
     -comment: String

    +getGeoLocation(): ArrayList<Location>
    +getQrCodeHash(): String
    +getComment(): String
    +setGeoLocation(geoLocation: ArrayList<Location>)
    +setQrCodeHash(qrCodeHash: String)
    +setComment(comment: String)
}

class QrCodeController
{
     -username: String
     -qrCodeHash: String

    +addComment(username: String, qrCodeHash: String, comment: Stirng)
    +deleteQr(username: String, qrCodeHash: String)
    +onEvent()
}

class QrInventoryActivity
{
     -myQrDataList: ArrayList<QrCode>
}

class QrInventoryController
{
     -username: String

    +sendHash(qrCodeHash: String)
}

class SearchActivity
{
    +onCreate()
    +getPlayerInput():String
}

class SearchController
{
    -serchText:String
    -selectedUser:Player

    +getResultByUsername(databaseController: DatabaseController):ArrayList<String>
    +sendUserToProfile(selectedUser: Player)
    +getResultByLocation(locationController: LocationController):ArrayList<String>

}



class ArrayAdapter

class MainMenuActivity

class QrAnalyzer

class CameraController

class DatabaseController

ProfileActivity "1" *- "1" ProfileController
ProfileActivity "1" *- "1" MainMenuActivity

MainMenuActivity "1" *- "1" LeaderboardActivity
LeaderboardActivity "1" *- "1" LeaderboardController

MainMenuActivity "1" *- "1" SignupActivity
SignupActivity "1" *- "1" SignupController
SignupController "1" *- "1" Player
SignupController "1" *- "1" PlayerController
PlayerController "1" *- "1" Player
OtherPlayerActivity "1" *- "1" OtherPlayerController

SignupController --> RestoreSession
RestoreSession --> QrAnalyzer
RestoreSession --> CameraController
RestoreSession --> DatabaseController
RestoreSession --> MainMenuActivity

MainMenuActivity "1" *- "1" QrInventoryController
QrInventoryController "1" *- "1" QrInventoryActivity
QrCode "1" *- "*" Location
QrInventoryController --> QrCodeController
QrCodeController "1" *- "1" QrCode
QrCodeController --> DatabaseController

MainMenuActivity "1" o- "1" SearchActivity
SearchActivity "1" *- "*" ResultData
SearchController "1" -> "1" DatabaseController
SearchController "1" -> "1" Player
SearchController "1" -> "1" LocationController



@enduml

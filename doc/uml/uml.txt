@startuml

' Customization Settings
skinparam dpi 100
skinparam classattributeiconsize 0

' Begin UML Here

' NOTE: All activities should inherit from an Android Activity.
' This includes onCreate() should inherit from an Android Activity

class ProfileController
{    
     -dialog: string

    +getUsername(player: Player, playercontroller: PlayerController): string
    +openDialog()
    +displayPlayerRank(database: DataBase, databasecontroller: DataBaseController, currentplayer: Player)
}

class ProfileActivity
{
    +onCreate()
}

class LeaderboardActivity
{
    -sortButton: Button
    -rankList: ListView
    -sortButtonList: ListView
    -rankAdapter: ArrayAdapter<RankData>
    -rankDataList: ArrayList<RankData>

    +onCreate()
    
}

class LeaderboardController
{
    -score: ArrayList
    -myScore: Integer
    -sortBy: String

    +getSortBy(): String
    +sortDataBy(sortBy: String)
    
}

class RankData
{
    -score: ArrayList

    +getScore(): ArrayList
    +setScore(s: ArrayList)
}

class CustomRankList
{
    -ranks: ArrayAdapter<RankData>
    -context: Context 

    +customRankList(context: Context, ranks: ArrayAdapter<RankData> )
    +getView(position: Integer, convertView: View, parent: ViewGroup): View
}

class SignupActivity
{
    -confirmButton: Button
    -restoreButton: Button
    -username: EditText
    -email: EditText
    -phone: EditText
    -signupText: TextView

    +onCreate()
    +usernameInvalid()
    
}

class SignupController
{
    -newPlayer: Player

    +addNewPlayer(newPlayer: Player)
    +checkUserNameValid()
    +firstTimeCheck(): Boolean
    +sendUserToMain()
    +sendToRestore()
    
}

class RestoreSession
{
    -userQr: hash

    +getUserQr(): hash
    +checkIfUserExists(UserQr: hash): Boolean
    +loadPlayer()
    +sendUserToMain()
}

class Player
{    
     -username: String
     -qrInventory: ArrayList<String>
     -contact: String
     -statistics: int

    +setUsername(name: String)
    +getUsername(): String
    +setContact(contact: String)
    +getContact(): String
    +setStatistics(statistics: int)
    +getStatistics(): int
    +setQrInventory(QrInventory: ArrayList<String>)
    +getQrInventory(): ArrayList<String>
    +player (username: String, contact: String, stats: int, QrInventory: ArrayList<String>) 
}

class PlayerController
{
     -player: Player

    +getPlayer(Username: String)
    +savePlayerData(databasecontroller: DataBaseController)
    +updateUsername(username: String): Player
    +updateQrInventory(QRcode: arraylist): Player
    +updateStatistics(statistics: int): Player
    +playerController(player: Player)  
}

class Location
{
     -locationHash: ArrayList<String>

    +getLocationHash()
    +setLocationHash(locationHash: ArrayList<String>)
}

class QrCode
{
     -geoLocation: ArrayList<Location>
     -qrCodeHash: String
     -comment: String

    +getGeoLocation()
    +getQrCodeHash()
    +getComment()
    +setGeoLocation(geoLocation: ArrayList<Location>)
    +setQrCodeHash(qrCodeHash: String)
    +setComment(comment: String)
}

class QrInventoryActivity
{
     -myQrDataList: ArrayList<QrCode>
}

Class QrInventoryController
{
    +updateQrDataList(player: Player): ArrayList<String>
    +addComment(comment: Stirng)
    +deleteQr(qr: QrCode)
    +onEvent()
}

class SearchActivity
{
    -resultList: ListView
    -resultDataAdapter: ArrayAdapter<ResultData>
    -resultDataList: ArrayList<ResultData>

    +onCreate()
}

class SearchController
{
    -serchText:String
    -resultDataList: ArrayList<ResultData>

    +vaildText(serchText):Boolean 
    +searchResult():String
}

class ResultDataAdapter
{
    -resultData: ArrayAdapter<ResultData>
    -context: Context

    +ResultDataAdapter(context: Context, resultData: ArrayAdapter<ResultData> )
    +getView(position: Integer, convertView: View, parent: ViewGroup): View
}

class ResultData
{
    -username: String
    -geolation: String

    +resultData(username: String, geolation: String)
    +getUsername():String
    +setUsername():String
    +getGeolocation():String
    +setGeolocation():String
}


class ArrayAdapter

class MainMenuActivity

class QrAnalyzer

class CameraController

class DatabaseController

ProfileActivity "1" *- "1" ProfileController
ProfileActivity "1" *- "1" MainMenuActivity

MainMenuActivity "1" *- "1" LeaderboardActivity
LeaderboardActivity "1" *- "1" LeaderboardController
LeaderboardController "1" *- "1" CustomRankList
CustomRankList "1" *- "*" RankData
ArrayAdapter <|-- CustomRankList

MainMenuActivity "1" *- "1" SignupActivity
SignupActivity "1" *- "1" SignupController
SignupController "1" *- "1" Player
SignupController "1" *- "1" PlayerController
PlayerController "1" *- "1" Player

SignupController --> RestoreSession
RestoreSession --> QrAnalyzer
RestoreSession --> CameraController
RestoreSession --> DatabaseController
RestoreSession --> MainMenuActivity

MainMenuActivity "1" *- "1" QrInventoryActivity
QrInventoryActivity "1" *- "1" QrInventoryController
QrCode "1" *- "*" Location
QrInventoryController "1" *- "*" QrCode

MainMenuActivity "1" *- "1" SearchActivity
ResultDataAdapter "1" *- "*" ResultData
ResultDataAdapter "1" *-"1" SearchController
SearchActivity "1" *- "1" SearchController
ArrayAdapter <|-- ResultDataAdapter

@enduml
